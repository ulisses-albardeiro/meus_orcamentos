{% extends 'base.html' %}
{% block conteudo %}


<style>
    .theme-switcher {
        display: flex;
        background-color: #f8f9fa;
        border-radius: 50px;
        padding: 5px;
        position: relative;
        width: 100%;
        max-width: 400px;
        margin: 15px 0;
    }

    .theme-option {
        flex: 1;
        text-align: center;
        padding: 12px 0;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .theme-option.active {
        color: white;
    }

    .theme-slider {
        position: absolute;
        top: 5px;
        bottom: 5px;
        border-radius: 50px;
        transition: all 0.3s ease;
        z-index: 0;
    }

    .theme-option[data-bs-theme-value="light"].active~.theme-slider {
        background-color: #d8d8d8;
        left: 5px;
        width: calc(33.333% - 10px);
    }

    .theme-option[data-bs-theme-value="dark"].active~.theme-slider {
        background-color: #212529;
        left: calc(33.333% + 5px);
        width: calc(33.333% - 10px);
    }

    .theme-option[data-bs-theme-value="auto"].active~.theme-slider {
        background: linear-gradient(90deg, #d8d8d8 50%, #212529 50%);
        left: calc(66.666% + 5px);
        width: calc(33.333% - 10px);
    }

    .card {
        margin-top: 2rem;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }
</style>
</head>
    <div class="card">
        <div class="card-header">
            <h5 class="mb-0">Configurações de Aparência</h5>
        </div>
        <div class="card-body">
            <h6 class="mb-3">Selecione o tema desejado:</h6>
            <div class="theme-switcher">
                <div style="color: #212529;" class="theme-option active" data-bs-theme-value="light">
                    <i class="bi bi-sun-fill"></i>
                    <span>Claro</span>
                </div>
                <div class="theme-option" data-bs-theme-value="dark">
                    <i class="bi bi-moon-stars-fill"></i>
                    <span>Escuro</span>
                </div>
                <div class="theme-option" data-bs-theme-value="auto">
                    <i style="color: #212529;" class="bi bi-circle-half"></i>
                    <span>Automático</span>
                </div>
                <div class="theme-slider"></div>
            </div>

            <div class="mt-4">
                <p class="text-muted">O tema automático seguirá as preferências do seu sistema operacional.</p>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <h5 class="mb-0 text-danger">Área Perigosa!</h5>
        </div>
        <div class="card-body">
            <h6 class="mb-3">Excluir minha Conta</h6>
            <button class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#modalConfirmDeleteConta">Excluir Minha Conta</button>
            <div class="mt-4">
                <p class="text-muted">A exclusão da conta apagará todos os seus dados de maneira irreversivel!</p>
            </div>
        </div>
    </div>

    <!-- Modal Excluir -->
<div class="modal fade" id="modalConfirmDeleteConta" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content shadow-lg">
            <div class="modal-header">
                <h5 class="modal-title fw-bold" id="modalLabel{{ orcamento.id }}">
                    <i class="bi bi-exclamation-triangle-fill text-danger"></i> <span class="text-body">Atenção!</span>
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <p class="text-body">Deseja realmente excluir sua conta e <strong>todos os seus dados?</strong></p>
                <p class="text-muted">Esta ação não poderá ser desfeita.</p>
            </div>
            <div style="margin-top: -25px;" class="modal-footer border-0 d-flex justify-content-center">
                <button style="background-color: #5C636A; color: white;" type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle me-1"></i> Cancelar
                </button>
                <a href="{{ url('config/excluir/'~usuario().id) }}" class="btn-sm btn btn-danger">
                    <i class="bi bi-trash-fill me-1"></i> Excluir
                </a>
            </div>
        </div>
    </div>
</div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const themeOptions = document.querySelectorAll('.theme-option');

            // Função para ativar o tema selecionado
            function setActiveTheme(selectedTheme) {
                themeOptions.forEach(option => {
                    option.classList.remove('active');
                });

                const selectedOption = document.querySelector(`.theme-option[data-bs-theme-value="${selectedTheme}"]`);
                selectedOption.classList.add('active');
            }

            // Adicionar event listeners para os botões
            themeOptions.forEach(option => {
                option.addEventListener('click', function () {
                    const themeValue = this.getAttribute('data-bs-theme-value');
                    setActiveTheme(themeValue);
                });
            });

            // Inicializar com o tema atual (pode ser obtido do localStorage)
            const currentTheme = localStorage.getItem('theme') || 'auto';
            setActiveTheme(currentTheme);
        });
    </script>

    {% endblock %}